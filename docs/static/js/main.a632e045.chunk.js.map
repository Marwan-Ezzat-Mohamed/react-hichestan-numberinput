{"version":3,"sources":["lib/util.js","lib/NumberInput.js","lib/DecimalInput.js","lib/CardNumberInput.js","Example.js","index.js"],"names":["NUMBER_FORMAT_FARSI","NUMBER_FORMAT_LATIN","mapToFarsi","str","toString","replace","e","String","fromCharCode","charCodeAt","mapToLatin","stripAnyThingButDigits","repeatStr","n","r","i","NumberInput","props","readValuesFromProps","value","valueToShow","mapValue","numberFormat","selectionStart","undefined","selectionEnd","handleKeyDown","event","disabled","readOnly","preventDefault","keyCode","updateState","deleteValue","target","updateValue","key","hideKeyboard","ctrlKey","metaKey","inputRef","current","blur","handlePaste","enteredValue","clipboardData","window","getData","handleInput","values","recheckValue","newState","forceFireChange","fireOnChangeInTheEnd","document","activeElement","setSelectionRange","fireOnChange","element","enteredValueMapped","maxLength","length","substring","qty","onChange","name","ref","getInputRef","React","createRef","nextProps","nextState","this","shallowEqualObjects","style","className","rest","onInput","onPast","onKeyDown","pattern","inputMode","type","defaultValue","dir","onPaste","Component","DecimalInput","defaultThousandSeparator","defaultDecimalSeparator","asString","Number","updateElementValue","negate","stripAnyThingButNumber","firstHyphenIndex","indexOf","mapDecimalSeparator","decimalSeparatorRegex","decimalSeparator","valueIsValid","currentValue","valueBeforeCursor","valueAfterCursor","countThousandSeparator","stripThousandSeparator","separated","addThousandSeparator","valueToShowWithSeparator","checkValue","alreadFoundDecimalSeparator","alreadyPassedDecimalSeparator","groupCount","c","charAt","thousandSeparator","match","thousandSeparatorRegex","numberRegex","RegExp","CARD_SEPERATOR","SEPERATORES_REGEX","MATCH_REGEX","EMPTY_VALUE","CardNumberInput","readCardNumberFromValue","latinNumberValue","valueWithNoSeperator","match4Digit","readValues","isValueValidCardNumber","handleFocus","isValueEmpty","jumpTo","onFocus","handleBlur","onBlur","jumpToNext","whereTheCaretIs","whereIsCaret","jumpToPrevious","section","caretPosition","shiftKey","Math","abs","onShowDialog","valueFromClipboard","inputValue","seperatorBefore","lastIndexOf","seperatorAfter","floor","resetValues","newValues","nextSeperator","previousValue","emptyValue","bind","Example","state","Number1","Number2","Number3","color","bgColor","Tel1","value1","handleChange","t","setState","console","log","handleValueChange","substr","toggleColor","toggleBgColor","toggleDisabled","toggleReadOnly","clearInterval","interval","backgroundColor","Fragment","autoComplete","width","placeholder","onClick","render","margin","getElementById"],"mappings":"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","file":"static/js/main.a632e045.chunk.js","sourcesContent":["export const NUMBER_FORMAT_FARSI = 'FARSI';\nexport const NUMBER_FORMAT_LATIN = 'LATIN';\n\nexport function mapToFarsi(str) {\n  if(!str) return str;\n  return str.toString().replace(/[1234567890]/gi, e => String.fromCharCode(e.charCodeAt(0) + 1728))\n}\n\nexport function mapToLatin(str) {\n  if(!str) return str;\n  return str.toString().replace(/[۱۲۳۴۵۶۷۸۹۰]/gi, e => String.fromCharCode(e.charCodeAt(0) - 1728))\n}\n\nexport function stripAnyThingButDigits(str) {\n  if(!str) return str;\n  return str.toString().replace(/[^1234567890۱۲۳۴۵۶۷۸۹۰]/gi, '');\n}\n\nexport function hasStringACharToGoToNext (str) {\n  if(str.indexOf('.')>=0) return true;\n  if(str.indexOf(',')>=0) return true;\n  // if(str.indexOf('/')>=0) return true;\n  if(str.indexOf('-')>=0) return true;\n  if(str.indexOf(';')>=0) return true;\n  if(str.indexOf('*')>=0) return true;\n  if(str.indexOf('#')>=0) return true;\n  if(str.indexOf(' ')>=0) return true;\n  if(str.indexOf('،')>=0) return true;\n  return false;\n}\n\n/**\n * @param {string} str\n * @param {number} n\n */\nexport function repeatStr(str, n){\n  let r = '';\n  for(let i=0; i<n; i++){\n    r += str;\n  }\n  return r;\n}\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport shallowEqualObjects from 'shallow-equal/objects';\n\nimport { mapToFarsi, mapToLatin, stripAnyThingButDigits, NUMBER_FORMAT_FARSI, NUMBER_FORMAT_LATIN} from './util';\n\nclass NumberInput extends Component {\n\n  static propTypes = {\n    /**\n     * The ref to pass on the input, if empty it will be created internally\n     */\n    inputRef: PropTypes.any,\n    getInputRef: PropTypes.any,\n    /**\n     * The name that will be set while firing the onChange event in the target object\n     */\n    name: PropTypes.string,\n    /**\n     * Callback function that is fired when the cart number value changes.\n     */\n    onChange: PropTypes.func,\n    /**\n     * Override the inline-styles of the root element.\n     */\n    style: PropTypes.object,\n    /**\n     * The css class name of the root element.\n     */\n    className: PropTypes.string,\n    /**\n     * Disables the number input.\n     */\n    disabled: PropTypes.bool,\n    /**\n     * makes the number input readonly.\n     */\n    readOnly: PropTypes.bool,\n    /**\n     * accepted number digit count.\n     */\n    maxLength: PropTypes.number,\n    /**\n     * Callback function that is fired when a click event occurs on the input.\n     */\n    onClick: PropTypes.func,\n    /**\n     * Callback function that is fired when the input gains focus.\n     */\n    onFocus: PropTypes.func,\n    /**\n     * Sets the value for the number input.\n     */\n    value: PropTypes.string,\n  };\n\n  constructor(props) {\n    super(props);\n    let ref = props.inputRef || props.getInputRef;\n    if(ref && typeof ref === 'function'){\n      ref = ref();\n    }\n    this.inputRef = ref ? ref : React.createRef();\n    // this.rr = React.createRef();\n\n    this.values = this.readValuesFromProps(props);\n  }\n\n  readValuesFromProps = (props) => {\n    const value = props.value || '';\n    const valueToShow = this.mapValue(value, props.numberFormat);\n\n    return {\n      value,\n      valueToShow,\n      selectionStart: undefined,\n      selectionEnd: undefined,\n    };\n  };\n\n  handleKeyDown = (event) => {\n    // console.log('keyCode: ', event.keyCode, 'key: ', event.key);\n    if(this.props.disabled || this.props.readOnly) {\n      event.preventDefault();\n    }else if(event.keyCode===8) { //backspace\n      event.preventDefault();\n      this.updateState(this.deleteValue(event.target, -1));\n    }else if(event.keyCode===46){ //delete\n      event.preventDefault();\n      this.updateState(this.deleteValue(event.target, 1));\n    }else if(event.keyCode>=48 && event.keyCode<=57){ //digits\n      event.preventDefault();\n      // console.log('digit');\n      this.updateState(this.updateValue(event.target, (event.keyCode - 48).toString(), this.props.numberFormat));\n    }else if(event.keyCode>=96 && event.keyCode<=105){ //digits\n      event.preventDefault();\n      // console.log('digit');\n      this.updateState(this.updateValue(event.target, (event.keyCode - 96).toString(), this.props.numberFormat));\n    }else if(event.key>='۰' && event.key<='۹'){ //digits\n      event.preventDefault();\n      // console.log('digit');\n      this.updateState(this.updateValue(event.target, event.key, this.props.numberFormat));\n    }else if(event.keyCode>=35 && event.keyCode<=40){ //arrows\n    }else if(event.keyCode===9){ //tab\n    }else if(event.keyCode===13){ //return\n      this.hideKeyboard();\n    }else if((event.ctrlKey || event.metaKey) && (event.keyCode===67 || event.keyCode===86)){ //copy/paste\n    }else if((event.ctrlKey || event.metaKey) && (event.keyCode===82)){ //refresh key\n    }else if((event.ctrlKey || event.metaKey) && (event.keyCode===82)){ //refresh key\n    }else if((event.ctrlKey || event.metaKey) && (event.keyCode===73)){ //inspector\n    }else if((event.ctrlKey || event.metaKey) && (event.keyCode===65)){ //select all\n    }else if(event.keyCode>=112 && event.keyCode<=123){ // All other F keys\n    }else if(event.keyCode===229){ //android bug workaround\n    }else{\n      // console.log('other');\n      // console.log('keyCode: ', event.keyCode, 'key: ', event.key, 'ctrlKey: ', event.ctrlKey);\n      // this.rr.current.innerText = `keyCode: ${event.keyCode} key:  ${event.key} ctrlKey: ${event.ctrlKey}`;\n      event.preventDefault();\n    }\n  };\n\n  hideKeyboard = () => {\n    this.inputRef.current.blur();\n  }\n\n  handlePaste = (event) => {\n    event.preventDefault();\n    if(this.props.disabled || this.props.readOnly) return;\n\n    const enteredValue = stripAnyThingButDigits((event.clipboardData || window.clipboardData).getData('text'));\n\n    this.updateState(this.updateValue(event.target, enteredValue, this.props.numberFormat));\n  };\n\n  handleInput = (event) => {\n    if(this.props.disabled || this.props.readOnly) return;\n    if(this.values.valueToShow===event.target.value) return;\n\n    const enteredValue = stripAnyThingButDigits(event.target.value);\n\n    this.updateState(this.recheckValue(event.target, enteredValue, this.props.numberFormat), true);\n  };\n\n  mapValue = (value, numberFormat) => {\n    if(numberFormat===NUMBER_FORMAT_FARSI){\n      return mapToFarsi(value);\n    }else if(numberFormat===NUMBER_FORMAT_LATIN){\n      return mapToLatin(value);\n    }\n    return mapToFarsi(value);\n  };\n\n\n  updateState = (newState, forceFireChange) => {\n    if(!newState) return;\n\n    this.values = newState;\n    let fireOnChangeInTheEnd = false;\n    if(this.inputRef.current.value !== this.values.valueToShow){\n      fireOnChangeInTheEnd = true;\n      this.inputRef.current.value = this.values.valueToShow;\n    }\n    if(this.inputRef.current===document.activeElement){\n      // console.log('has focus :D');\n      this.inputRef.current.setSelectionRange(this.values.selectionStart, this.values.selectionEnd);\n    }else{\n      // console.log('has not focus :(');\n    }\n    if(fireOnChangeInTheEnd || forceFireChange){\n      this.fireOnChange();\n    }\n  };\n\n  updateValue = (element, enteredValue, numberFormat) => {\n    const enteredValueMapped = this.mapValue(enteredValue, numberFormat);\n    let valueToShow = element.value;\n    let selectionStart = element.selectionStart;\n    let selectionEnd = element.selectionEnd;\n\n    if(this.props.maxLength && valueToShow.length + enteredValue.length > this.props.maxLength){\n      return;\n    }\n\n    valueToShow = valueToShow.substring(0, selectionStart) + enteredValueMapped + valueToShow.substring(selectionEnd);\n\n    selectionStart += enteredValueMapped.length;\n    selectionEnd = selectionStart;\n\n    const value = mapToLatin(valueToShow);\n\n    return {\n      value,\n      valueToShow,\n      selectionStart,\n      selectionEnd,\n    };\n  };\n\n  recheckValue = (element, enteredValue, numberFormat) => {\n    let valueToShow = this.mapValue(enteredValue, numberFormat);\n    let selectionStart = element.selectionStart;\n    let selectionEnd = element.selectionEnd;\n\n    const value = mapToLatin(valueToShow);\n\n    return {\n      value,\n      valueToShow,\n      selectionStart,\n      selectionEnd,\n    };\n  };\n\n  deleteValue = (element, qty) => {\n    let valueToShow = element.value;\n    let selectionStart = element.selectionStart;\n    let selectionEnd = element.selectionEnd;\n\n    // console.log({selectionStart, selectionEnd})\n\n    if(selectionStart===selectionEnd){\n      if(qty < 0) {\n        if(selectionStart===0) return;\n        valueToShow = valueToShow.substring(0, selectionStart + qty) + valueToShow.substring(selectionEnd);\n        selectionStart += qty;\n      }else{\n        if(selectionEnd===valueToShow.length) return;\n        valueToShow = valueToShow.substring(0, selectionStart) + valueToShow.substring(selectionEnd+qty);\n      }\n    }else{\n      valueToShow = valueToShow.substring(0, selectionStart) + valueToShow.substring(selectionEnd);\n    }\n\n    selectionEnd = selectionStart;\n\n    const value = mapToLatin(valueToShow);\n\n    return {\n      value,\n      valueToShow,\n      selectionStart,\n      selectionEnd,\n    };\n  };\n\n  fireOnChange = () => {\n    if(this.props.onChange){\n      this.props.onChange({target: {name: this.props.name, value: this.values.value}});\n    }\n  };\n\n  shouldComponentUpdate(nextProps, nextState){\n    if(nextProps.value !== this.values.value || nextProps.numberFormat !== this.props.numberFormat){\n      this.updateState(this.readValuesFromProps(nextProps));\n    }\n    if(!shallowEqualObjects(nextProps.style, this.props.style)){\n      return true;\n    }\n    if(nextProps.className !== this.props.className){\n      this.inputRef.current.className = nextProps.className;\n    }\n    if(nextProps.disabled !== this.props.disabled){\n      this.inputRef.current.disabled = nextProps.disabled;\n    }\n    if(nextProps.readOnly !== this.props.readOnly){\n      this.inputRef.current.readOnly = nextProps.readOnly;\n    }\n    return false;\n  }\n\n  render() {\n    const {value, onChange, onInput, onPast, onKeyDown, pattern, inputMode, type, ref, inputRef, getInputRef, numberFormat, defaultValue, ...rest} = this.props;\n    const {valueToShow} = this.values;\n\n    // const localInputMode = this.props.type === 'tel' ? 'tel' : 'numeric'; // as we use type=tel, then we do not need it any more\n    // const localPattern = '[0-9]*'; // it has problem with the form checking, as we insert persian digit, it is not acceptable for the browser\n\n    return (\n      <input\n        ref={this.inputRef}\n        type={\"tel\"} // I tried to use text and using inputMode, but it does not work on Safari\n        // inputMode={localInputMode}\n        // xInputMode={localnputMode} // in firefox OS it is x-inputmode, I do not know how to handle it\n        dir={\"ltr\"}\n        // pattern={localPattern}\n        defaultValue={valueToShow}\n        onKeyDown={this.handleKeyDown}\n        onPaste={this.handlePaste}\n        onInput={this.handleInput}\n        {...rest}\n      />\n      );\n    //<p ref={this.rr} type={\"text\"}>empty</p></div>\n\n  }\n}\nexport default NumberInput;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport shallowEqualObjects from 'shallow-equal/objects';\n\nimport { mapToFarsi, mapToLatin, NUMBER_FORMAT_FARSI, NUMBER_FORMAT_LATIN} from './util';\n\nclass DecimalInput extends Component {\n\n  static propTypes = {\n    /**\n     * The ref to pass on the input, if empty it will be created internally\n     */\n    inputRef: PropTypes.any,\n    getInputRef: PropTypes.any,\n    /**\n     * The name that will be set while firing the onChange event in the target object\n     */\n    name: PropTypes.string,\n    /**\n     * Callback function that is fired when the cart number value changes.\n     */\n    onChange: PropTypes.func,\n    /**\n     * Override the inline-styles of the root element.\n     */\n    style: PropTypes.object,\n    /**\n     * The css class name of the root element.\n     */\n    className: PropTypes.string,\n    /**\n     * Disables the decimal input.\n     */\n    disabled: PropTypes.bool,\n    /**\n     * makes the decimal input readonly.\n     */\n    readOnly: PropTypes.bool,\n    /**\n     * Callback function that is fired when a click event occurs on the input.\n     */\n    onClick: PropTypes.func,\n    /**\n     * Callback function that is fired when the input gains focus.\n     */\n    onFocus: PropTypes.func,\n    /**\n     * Sets the value for the decimal input.\n     */\n    value: PropTypes.oneOfType([\n      PropTypes.string,\n      PropTypes.number\n    ]),\n    /**\n     * Sets the thousand separator\n     */\n    thousandSeparator: PropTypes.string,\n    /**\n     * Sets the decimal separator\n     */\n    decimalSeparator: PropTypes.string,\n    /**\n     * makes the value string, it is useful for big decimals.\n     */\n    asString: PropTypes.bool,\n  };\n\n  constructor(props) {\n    super(props);\n    let ref = props.inputRef || props.getInputRef;\n    if(ref && typeof ref === 'function'){\n      ref = ref();\n    }\n    this.inputRef = ref ? ref : React.createRef();\n    // this.rr = React.createRef();\n\n    this.thousandSeparator = props.thousandSeparator || this.defaultThousandSeparator();\n    this.decimalSeparator = props.decimalSeparator || this.defaultDecimalSeparator();\n    this.thousandSeparatorRegex = new RegExp(`[${this.thousandSeparator}]`, 'g');\n    this.decimalSeparatorRegex = new RegExp(`[.${this.decimalSeparator}]`, 'g');\n    this.numberRegex = new RegExp(`[^-1234567890۱۲۳۴۵۶۷۸۹۰.${this.decimalSeparator}]`, 'gi');\n    this.values = this.readValuesFromProps(props);\n  }\n\n  defaultThousandSeparator = () => {\n    return ',';\n  };\n\n  defaultDecimalSeparator = () => {\n    return '.';\n  };\n\n  readValuesFromProps = (props) => {\n    if(props.value){\n      const value = props.value ? props.asString ? props.value : Number(props.value) : undefined;\n      return this.updateValue('', 0, 0, value, props.numberFormat, props.asString);\n    }\n\n    return {\n      value: undefined,\n      valueToShow: '',\n      selectionStart: undefined,\n      selectionEnd: undefined,\n    };\n  };\n\n  handleKeyDown = (event) => {\n    // console.log('keyCode: ', event.keyCode, 'key: ', event.key);\n    if(this.props.disabled || this.props.readOnly) {\n      event.preventDefault();\n    }else if(event.keyCode===8) { //backspace\n      event.preventDefault();\n      this.updateState(this.deleteValue(event.target, -1, this.props.asString));\n    }else if(event.keyCode===46){ //delete\n      event.preventDefault();\n      this.updateState(this.deleteValue(event.target, 1, this.props.asString));\n    }else if(event.keyCode>=48 && event.keyCode<=57){ //digits\n      event.preventDefault();\n      // console.log('digit');\n      this.updateState(this.updateElementValue(event.target, (event.keyCode - 48).toString(), this.props.numberFormat, this.props.asString));\n    }else if(event.keyCode>=96 && event.keyCode<=105){ //digits\n      event.preventDefault();\n      // console.log('digit');\n      this.updateState(this.updateElementValue(event.target, (event.keyCode - 96).toString(), this.props.numberFormat, this.props.asString));\n    }else if(event.key>='۰' && event.key<='۹'){ //digits\n      event.preventDefault();\n      // console.log('digit');\n      this.updateState(this.updateElementValue(event.target, event.key, this.props.numberFormat, this.props.asString));\n    }else if(event.key==='.' || event.keyCode===190){ //point\n      event.preventDefault();\n      this.updateState(this.updateElementValue(event.target, '.', this.props.numberFormat, this.props.asString));\n    }else if(event.key==='-' || event.keyCode===189){ // -\n      event.preventDefault();\n      this.updateState(this.negate());\n    }else if(event.keyCode>=35 && event.keyCode<=40){ //arrows\n    }else if(event.keyCode===9){ //tab\n    }else if(event.keyCode===13){ //return\n      this.hideKeyboard();\n    }else if((event.ctrlKey || event.metaKey) && (event.keyCode===67 || event.keyCode===86)){ //copy/paste\n    }else if((event.ctrlKey || event.metaKey) && (event.keyCode===82)){ //refresh key\n    }else if((event.ctrlKey || event.metaKey) && (event.keyCode===82)){ //refresh key\n    }else if((event.ctrlKey || event.metaKey) && (event.keyCode===73)){ //inspector\n    }else if((event.ctrlKey || event.metaKey) && (event.keyCode===65)){ //select all\n    }else if(event.keyCode>=112 && event.keyCode<=123){ // All other F keys\n    }else if(event.keyCode===229){ //android bug workaround\n    }else{\n      // console.log('other');\n      // console.log('keyCode: ', event.keyCode, 'key: ', event.key, 'ctrlKey: ', event.ctrlKey);\n      // this.rr.current.innerText = `keyCode: ${event.keyCode} key:  ${event.key} ctrlKey: ${event.ctrlKey}`;\n      event.preventDefault();\n    }\n  };\n\n  hideKeyboard = () => {\n    this.inputRef.current.blur();\n  }\n\n  handlePaste = (event) => {\n    event.preventDefault();\n    if(this.props.disabled || this.props.readOnly) return;\n\n    let enteredValue = this.stripAnyThingButNumber((event.clipboardData || window.clipboardData).getData('text'));\n    if(this.values.valueToShow!==''){\n      enteredValue = enteredValue.replace(/[-]/g, '');\n    }\n\n    this.updateState(this.updateElementValue(event.target, enteredValue, this.props.numberFormat, this.props.asString));\n  };\n\n  handleInput = (event) => {\n    if(this.values.valueToShow===event.target.value) return;\n    if(this.props.disabled || this.props.readOnly) return;\n\n    const enteredValue = this.stripAnyThingButNumber(event.target.value);\n\n    const firstHyphenIndex = enteredValue.indexOf('-');\n    const secondHyphenIndex = enteredValue.indexOf('-', firstHyphenIndex + 1);\n    if(secondHyphenIndex >= 0 || firstHyphenIndex > 0){\n      this.updateState(this.negate());\n    }else{\n      const selectionStart = event.target.selectionStart;\n      const selectionEnd = event.target.selectionEnd;\n      const newState = this.updateValue('', selectionStart, selectionEnd, enteredValue, this.props.numberFormat, this.props.asString);\n      this.updateState(newState, true);\n    }\n  };\n\n  mapValue = (value, numberFormat) => {\n    if(numberFormat===NUMBER_FORMAT_FARSI){\n      return mapToFarsi(value);\n    }else if(numberFormat===NUMBER_FORMAT_LATIN){\n      return mapToLatin(value);\n    }\n    return mapToFarsi(value);\n  };\n\n  mapDecimalSeparator = (value) => {\n    return value.replace(this.decimalSeparatorRegex, this.decimalSeparator);\n  };\n\n\n  updateState = (newState, forceFireChange) => {\n    if(!newState) return;\n\n    this.values = newState;\n    let fireOnChangeInTheEnd = false;\n    if(this.inputRef.current.value !== this.values.valueToShow){\n      fireOnChangeInTheEnd = true;\n      this.inputRef.current.value = this.values.valueToShow;\n    }\n    if(this.inputRef.current===document.activeElement){\n      // console.log('has focus :D');\n      this.inputRef.current.setSelectionRange(this.values.selectionStart, this.values.selectionEnd);\n    }else{\n      // console.log('has not focus :(');\n    }\n    if(fireOnChangeInTheEnd || forceFireChange){\n      this.fireOnChange();\n    }\n  };\n\n  negate = () => {\n    let {value,\n    valueToShow,\n    valueIsValid,\n    selectionStart,\n    selectionEnd} = this.values;\n\n    if(value > 0) {\n      value = -value;\n      valueToShow = '-'+valueToShow;\n      selectionStart++;\n      selectionEnd++;\n    }else if(value < 0) {\n      value = -value;\n      valueToShow = valueToShow.substring(1);\n      selectionStart--;\n      selectionEnd--;\n    }else{\n      return;\n    }\n\n    return {\n      value,\n      valueToShow,\n      valueIsValid,\n      selectionStart,\n      selectionEnd,\n    };\n  };\n\n  updateElementValue = (element, enteredValue, numberFormat, asString) => {\n    let currentValue = element.value;\n    let selectionStart = element.selectionStart;\n    let selectionEnd = element.selectionEnd;\n    return this.updateValue(currentValue, selectionStart, selectionEnd, enteredValue, numberFormat, asString);\n  }\n\n  updateValue = (currentValue, selectionStart, selectionEnd, enteredValue, numberFormat, asString) => {\n    const enteredValueMapped = this.mapDecimalSeparator(this.mapValue(enteredValue, numberFormat));\n    let valueToShow = currentValue;\n\n    let valueBeforeCursor = valueToShow.substring(0, selectionStart);\n    let valueAfterCursor = valueToShow.substring(selectionEnd);\n\n    selectionStart -= this.countThousandSeparator(valueBeforeCursor);\n    valueBeforeCursor = this.stripThousandSeparator(valueBeforeCursor);\n    valueAfterCursor = this.stripThousandSeparator(valueAfterCursor);\n\n    valueToShow = valueBeforeCursor + enteredValueMapped + valueAfterCursor;\n    selectionStart += enteredValueMapped.length;\n\n    const separated = this.addThousandSeparator(valueToShow, selectionStart);\n    valueToShow = separated.valueToShowWithSeparator;\n    selectionStart = separated.selectionStart;\n    selectionEnd = selectionStart;\n\n    let value = this.stripThousandSeparator(mapToLatin(valueToShow));\n    let valueIsValid;\n    if(asString) {\n      const checkValue = Number(value);\n      valueIsValid = (typeof checkValue === 'number' || checkValue === undefined || checkValue === null);\n    }else{\n      value = Number(value);\n      valueIsValid = (typeof value === 'number' || value === undefined || value === null);\n    }\n\n    return {\n      value,\n      valueToShow,\n      valueIsValid,\n      selectionStart,\n      selectionEnd,\n    };\n  };\n\n  deleteValue = (element, qty, asString) => {\n    let valueToShow = element.value;\n    let selectionStart = element.selectionStart;\n    let selectionEnd = element.selectionEnd;\n\n    // console.log({selectionStart, selectionEnd})\n\n    if(selectionStart===selectionEnd){\n      if(qty < 0) {\n        if(selectionStart===0) return;\n        let valueBeforeCursor = valueToShow.substring(0, selectionStart + qty);\n        let valueAfterCursor = valueToShow.substring(selectionEnd);\n    \n        selectionStart -= this.countThousandSeparator(valueBeforeCursor);\n        valueBeforeCursor = this.stripThousandSeparator(valueBeforeCursor);\n        valueAfterCursor = this.stripThousandSeparator(valueAfterCursor);\n    \n        valueToShow = valueBeforeCursor + valueAfterCursor;\n        selectionStart += qty;\n      }else{\n        if(selectionEnd===valueToShow.length) return;\n        let valueBeforeCursor = valueToShow.substring(0, selectionStart);\n        let valueAfterCursor = valueToShow.substring(selectionEnd+qty);\n    \n        selectionStart -= this.countThousandSeparator(valueBeforeCursor);\n        valueBeforeCursor = this.stripThousandSeparator(valueBeforeCursor);\n        valueAfterCursor = this.stripThousandSeparator(valueAfterCursor);\n    \n        valueToShow = valueBeforeCursor + valueAfterCursor;\n      }\n    }else{\n      let valueBeforeCursor = valueToShow.substring(0, selectionStart);\n      let valueAfterCursor = valueToShow.substring(selectionEnd);\n  \n      selectionStart -= this.countThousandSeparator(valueBeforeCursor);\n      valueBeforeCursor = this.stripThousandSeparator(valueBeforeCursor);\n      valueAfterCursor = this.stripThousandSeparator(valueAfterCursor);\n  \n      valueToShow = valueBeforeCursor + valueAfterCursor;\n    }\n\n    const separated = this.addThousandSeparator(valueToShow, selectionStart);\n    valueToShow = separated.valueToShowWithSeparator;\n    selectionStart = separated.selectionStart;\n    selectionEnd = selectionStart;\n\n    let value = this.stripThousandSeparator(mapToLatin(valueToShow));\n    let valueIsValid;\n    if(asString) {\n      const checkValue = Number(value);\n      valueIsValid = (typeof checkValue === 'number' || checkValue === undefined || checkValue === null);\n    }else{\n      value = Number(value);\n      valueIsValid = (typeof value === 'number' || value === undefined || value === null);\n    }\n\n\n    return {\n      value,\n      valueToShow,\n      valueIsValid,\n      selectionStart,\n      selectionEnd,\n    };\n  };\n\n\n  addThousandSeparator = (valueToShow, selectionStart) => {\n    let valueToShowWithSeparator = '';\n    let alreadFoundDecimalSeparator = false;\n    let alreadyPassedDecimalSeparator = valueToShow.indexOf(this.decimalSeparator) === -1;\n    let groupCount = 0;\n    for (let i = valueToShow.length-1; i>=0; i--){\n      const c = valueToShow.charAt(i);\n      if(c===this.decimalSeparator){\n        if(!alreadFoundDecimalSeparator){\n          alreadFoundDecimalSeparator = true;\n          valueToShowWithSeparator = c + valueToShowWithSeparator;\n          alreadyPassedDecimalSeparator = true;\n          groupCount = 0;\n        }else{\n          if(i <= selectionStart){\n            selectionStart--;\n          }\n        }\n      }else{\n        if(alreadyPassedDecimalSeparator && groupCount===3 && c!=='-'){\n          valueToShowWithSeparator = this.thousandSeparator + valueToShowWithSeparator;\n          groupCount = 0;\n          if(i<selectionStart-1){\n            selectionStart++;\n          }\n        }\n        valueToShowWithSeparator = c + valueToShowWithSeparator;\n        groupCount++;\n      }\n    }\n    return {valueToShowWithSeparator, selectionStart};\n  };\n\n  countThousandSeparator = (value) => {\n    return (value.match(this.thousandSeparatorRegex) || []).length;\n  };\n\n  stripThousandSeparator = (value) => {\n    return value.replace(this.thousandSeparatorRegex, '');\n  };\n\n  stripAnyThingButNumber = (str) => {\n    if(!str) return str;\n    return str.toString().replace(this.numberRegex, '');\n  };\n  \n  fireOnChange = () => {\n    if(this.props.onChange){\n      this.props.onChange({target: {name: this.props.name, value: this.values.value}});\n    }\n  };\n\n  shouldComponentUpdate(nextProps, nextState){\n    if(nextProps.value !== this.values.value || nextProps.numberFormat !== this.props.numberFormat){\n      this.updateState(this.readValuesFromProps(nextProps));\n    }\n    if(!shallowEqualObjects(nextProps.style, this.props.style)){\n      return true;\n    }\n    if(nextProps.className !== this.props.className){\n      this.inputRef.current.className = nextProps.className;\n    }\n    if(nextProps.disabled !== this.props.disabled){\n      this.inputRef.current.disabled = nextProps.disabled;\n    }\n    if(nextProps.readOnly !== this.props.readOnly){\n      this.inputRef.current.readOnly = nextProps.readOnly;\n    }\n    return false;\n  }\n\n  render() {\n    const {value, onChange, onInput, onPast, onKeyDown, pattern, inputMode, type, ref, inputRef, getInputRef, numberFormat, defaultValue, asString, ...rest} = this.props;\n    const {valueToShow} = this.values;\n\n    // const localInputMode = this.props.type === 'tel' ? 'tel' : 'numeric'; // as we use type=tel, then we do not need it any more\n    // const localPattern = '[0-9]*'; // it has problem with the form checking, as we insert persian digit, it is not acceptable for the browser\n\n    return (\n      <input\n        ref={this.inputRef}\n        type={\"tel\"} // I tried to use text and using inputMode, but it does not work on Safari\n        // inputMode={localInputMode}\n        // xInputMode={localnputMode} // in firefox OS it is x-inputmode, I do not know how to handle it\n        dir={\"ltr\"}\n        // pattern={localPattern}\n        defaultValue={valueToShow}\n        onKeyDown={this.handleKeyDown}\n        onPaste={this.handlePaste}\n        onInput={this.handleInput}\n        {...rest}\n      />\n      );\n    //<p ref={this.rr} type={\"text\"}>empty</p></div>\n\n  }\n}\nexport default DecimalInput;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport shallowEqualObjects from 'shallow-equal/objects';\nimport { mapToFarsi, mapToLatin, hasStringACharToGoToNext, repeatStr, NUMBER_FORMAT_FARSI, NUMBER_FORMAT_LATIN} from './util';\n\nconst CARD_SEPERATOR =  '-';\nconst SEPERATORES_REGEX = new RegExp(`[ ${CARD_SEPERATOR}]`, 'g');\nconst MATCH_REGEX = new RegExp(`[0-9]{4}[${CARD_SEPERATOR}][0-9]{4}[${CARD_SEPERATOR}][0-9]{4}[${CARD_SEPERATOR}][0-9]{4}`);\nconst EMPTY_VALUE = `    ${CARD_SEPERATOR}    ${CARD_SEPERATOR}    ${CARD_SEPERATOR}    `;\n\n\nclass CardNumberInput extends Component {\n\n  static propTypes = {\n    /**\n     * The ref to pass on the input, if empty it will be created internally\n     */\n    inputRef: PropTypes.any,\n    getInputRef: PropTypes.any,\n    /**\n     * The name that will be set while firing the onChange event in the target object\n     */\n    name: PropTypes.string,\n    /**\n     * Callback function that is fired when the cart number value changes.\n     */\n    onChange: PropTypes.func,\n    /**\n     * Override the inline-styles of the root element.\n     */\n    style: PropTypes.object,\n    /**\n     * The css class name of the root element.\n     */\n    className: PropTypes.string,\n    /**\n     * Disables the card number.\n     */\n    disabled: PropTypes.bool,\n    /**\n     * makes the card number readonly.\n     */\n    readOnly: PropTypes.bool,\n    /**\n     * Callback function that is fired when a click event occurs on the input.\n     */\n    onClick: PropTypes.func,\n    /**\n     * Callback function that is fired when the input gains focus.\n     */\n    onFocus: PropTypes.func,\n    /**\n     * Sets the value for the card number input.\n     */\n    value: PropTypes.string,\n  };\n\n  constructor(props) {\n    super(props);\n    this.emptyValue = this.emptyValue.bind(this);\n\n    let ref = props.inputRef || props.getInputRef;\n    if(ref && typeof ref === 'function'){\n      ref = ref();\n    }\n    this.inputRef = ref ? ref : React.createRef();\n    // this.rr = React.createRef();\n\n    this.values = this.readValues(props.value);\n    this.previousValue = this.values.value;\n  }\n\n\n  /**\n   * @param {string} value\n   */\n  readCardNumberFromValue = (value) => {\n    if(!value) return;\n\n    const latinNumberValue = mapToLatin(value);\n    const regEx = /[0-9]{4}[^0-9]*[0-9]{4}[^0-9]*[0-9]{4}[^0-9]*[0-9]{4}/;\n    const match = latinNumberValue.match(regEx);\n    if(match){\n      const valueWithNoSeperator = match[0].replace(/[^0-9]*/g, '');\n      return `${valueWithNoSeperator.substring(0, 4)}${CARD_SEPERATOR}${valueWithNoSeperator.substring(4, 8)}${CARD_SEPERATOR}${valueWithNoSeperator.substring(8, 12)}${CARD_SEPERATOR}${valueWithNoSeperator.substring(12, 16)}`;\n    }\n\n    const regEx4Digits = /[0-9]{4}/;\n    const match4Digit = latinNumberValue.match(regEx4Digits);\n    if(match4Digit){\n      this.updateState(this.updateValue(this.inputRef.current, match4Digit[0], this.props.numberFormat));\n      return;\n    }\n\n  }\n    \n  readValues = (value) => {\n    const valueToShow = this.mapValue(value, this.props.numberFormat);\n    const valueIsValid = this.isValueValidCardNumber(value);\n\n    return {\n      value,\n      valueToShow,\n      valueIsValid,\n      selectionStart: undefined,\n      selectionEnd: undefined,\n    };\n  };\n\n  emptyValue() {\n    this.updateState(this.resetValues());\n  };\n\n  handleFocus = (event) => {\n    if(this.isValueEmpty(this.values.value)){\n      this.jumpTo(1);\n    }\n    if(this.props.onFocus){\n      this.props.onFocus(event);\n    }\n  };\n\n  handleBlur = (event) => {\n    if(this.props.onBlur){\n      this.props.onBlur(event);\n    }\n  };\n\n  jumpToNext = () => {\n    const selectionStart = this.inputRef.current.selectionStart;\n    const whereTheCaretIs = this.whereIsCaret(selectionStart);\n\n    if(whereTheCaretIs < 4){\n      this.jumpTo(whereTheCaretIs + 1);\n      return true;\n    }\n    return false;\n  };\n\n  jumpToPrevious = () => {\n    const selectionStart = this.inputRef.current.selectionStart;\n    const whereTheCaretIs = this.whereIsCaret(selectionStart);\n\n    if(whereTheCaretIs > 1){\n      this.jumpTo(whereTheCaretIs - 1);\n      return true;\n    }\n    return false;\n  };\n\n  isValueEmpty = (value) => {\n    if(value.replace(SEPERATORES_REGEX, '')==='') return true;\n    return false;\n  }; \n\n  /**\n   * @param {number} section\n   *  */\n  jumpTo = (section) => {\n    const caretPosition = (section - 1) * 5;\n    this.values.selectionStart = caretPosition;\n    this.values.selectionEnd = caretPosition;\n    this.inputRef.current.setSelectionRange(this.values.selectionStart, this.values.selectionEnd);\n  };\n\n  handleKeyDown = (event) => {\n    // console.log('keyCode: ', event.keyCode, 'key: ', event.key);\n    if(this.props.disabled || this.props.readOnly) {\n      event.preventDefault();\n    }else if(event.keyCode===8) { //backspace\n      event.preventDefault();\n      this.updateState(this.deleteValue(event.target, -1));\n    }else if(event.keyCode===46){ //delete\n      event.preventDefault();\n      this.updateState(this.deleteValue(event.target, 1));\n    }else if(event.keyCode>=48 && event.keyCode<=57){ //digits\n      event.preventDefault();\n      // console.log('digit');\n      this.updateState(this.updateValue(event.target, (event.keyCode - 48).toString(), this.props.numberFormat));\n    }else if(event.keyCode>=96 && event.keyCode<=105){ //digits\n      event.preventDefault();\n      // console.log('digit');\n      this.updateState(this.updateValue(event.target, (event.keyCode - 96).toString(), this.props.numberFormat));\n    }else if(event.key>='۰' && event.key<='۹'){ //digits\n      event.preventDefault();\n      // console.log('digit');\n      this.updateState(this.updateValue(event.target, event.key, this.props.numberFormat));\n    }else if(event.key==='.' || event.key==='/' || event.key==='-' || event.key==='*' || event.key==='#' \n             || \n             event.keyCode===188 || event.keyCode===189 || event.keyCode===190 || event.keyCode===191 \n             ){\n      event.preventDefault();\n      if(event.ctrlKey || event.shiftKey || event.metaKey || event.key==='#'){\n        this.jumpToPrevious();\n      }else{\n        this.jumpToNext();\n      }\n    }else if(event.keyCode>=36 && event.keyCode<=40){ //arrows\n    }else if(event.keyCode===9){ //tab\n      if(Math.abs(this.inputRef.current.selectionStart - this.inputRef.current.selectionEnd)===this.inputRef.current.value.length){\n        return;\n      }\n      if(event.ctrlKey || event.shiftKey || event.metaKey){\n        if(this.jumpToPrevious()) event.preventDefault();\n      }else{\n        if(this.jumpToNext()) event.preventDefault();\n      }\n    }else if(event.keyCode===13){ //return\n      this.hideKeyboard();\n    }else if((event.ctrlKey || event.metaKey) && (event.keyCode===67 || event.keyCode===86)){ //copy/paste\n    }else if((event.ctrlKey || event.metaKey) && (event.keyCode===82)){ //refresh key\n    }else if((event.ctrlKey || event.metaKey) && (event.keyCode===73)){ //inspector\n    }else if((event.ctrlKey || event.metaKey) && (event.keyCode===65)){ //select all\n    }else if(event.keyCode===115){ // F4\n      if(this.props.onShowDialog) {\n        event.preventDefault();\n        this.props.onShowDialog();\n      }\n    }else if(event.keyCode>=112 && event.keyCode<=123){ // All other F keys\n    }else if(event.keyCode===229){ //android bug workaround\n      //K1 : I guess that we have to save the caret position as the input will change it, we need it to know where we have to jump to in handleInput function\n      this.values.selectionStart = this.inputRef.current.selectionStart;\n      this.values.selectionEnd = this.inputRef.current.selectionEnd;\n      //  this.rr.current.innerText = `setting ss to ${this.values.selectionStart}  ${this.values.selectionEnd}`;\n\n    }else{\n      // console.log('other');\n      // console.log('keyCode: ', event.keyCode, 'key: ', event.key, 'ctrlKey: ', event.ctrlKey);\n      //  this.rr.current.innerText = `keyCode: ${event.keyCode} key:  ${event.key} ctrlKey: ${event.ctrlKey}`;\n      event.preventDefault();\n    }\n  };\n\n  hideKeyboard = () => {\n    this.inputRef.current.blur();\n  }\n\n  handlePaste = (event) => {\n    event.preventDefault();\n    if(this.props.disabled || this.props.readOnly) return;\n\n    const valueFromClipboard = this.readCardNumberFromValue((event.clipboardData || window.clipboardData).getData('text'));\n    if(!valueFromClipboard) return;\n\n    const values = this.readValues(valueFromClipboard);\n\n    if(values.valueIsValid){\n      this.updateState(values);\n    }\n  };\n\n  handleInput = (event) => {\n    event.preventDefault();\n    if(this.props.disabled || this.props.readOnly) return;\n    if(this.values.valueToShow===event.target.value) return;\n    const inputValue = event.target.value;\n    // const enteredValue = stripAnyThingButDigits(event.target.value);\n    // this.rr.current.innerText = `V : ${inputValue}`;\n    \n    if(this.inputRef.current.value !== this.values.valueToShow){\n      this.inputRef.current.value = this.values.valueToShow;\n      this.inputRef.current.setSelectionRange(this.values.selectionStart, this.values.selectionEnd);\n    }\n\n    if(hasStringACharToGoToNext(inputValue)){\n      this.jumpToNext();\n    }\n\n    // this.updateState(this.rollbackValue());\n  };\n\n  /**\n   * @param {string} value\n   */\n  mapValue = (value, numberFormat) => {\n    if(numberFormat===NUMBER_FORMAT_FARSI){\n      const mapped = mapToFarsi(value);\n      return mapped;\n    }else if(numberFormat===NUMBER_FORMAT_LATIN){\n      const mapped = mapToLatin(value);\n      return mapped;\n    }\n    const mapped = mapToFarsi(value);\n    return mapped;\n  };\n\n\n  updateState = (newState) => {\n    if(!newState) return;\n\n    this.values = newState;\n\n    if(this.values.valueIsValid===undefined){\n      this.values.valueIsValid = this.isValueValidCardNumber(this.values.value);\n    }\n\n    let fireOnChangeInTheEnd = false;\n    //console.log('values on updateState', this.values)\n    if(this.inputRef.current.value !== this.values.valueToShow){\n      fireOnChangeInTheEnd = true;\n      this.inputRef.current.value = this.values.valueToShow;\n    }\n    if(this.inputRef.current===document.activeElement){\n      // console.log('has focus :D');\n      this.inputRef.current.setSelectionRange(this.values.selectionStart, this.values.selectionEnd);\n    }else{\n      // console.log('has not focus :(');\n    }\n    if(fireOnChangeInTheEnd){\n      this.fireOnChange();\n    }\n  };\n\n  updateValue = (element, enteredValue, numberFormat) => {\n    const enteredValueMapped = this.mapValue(enteredValue, numberFormat);\n    let valueToShow = element.value;\n    if(valueToShow===''){\n      valueToShow = EMPTY_VALUE;\n    }\n    let selectionStart = element.selectionStart;\n    let selectionEnd = element.selectionEnd;\n\n    valueToShow = valueToShow.substring(0, selectionStart) + enteredValueMapped + valueToShow.substring(selectionEnd);\n    selectionStart += enteredValueMapped.length;\n\n    const seperatorBefore = valueToShow.lastIndexOf(CARD_SEPERATOR, selectionStart - 1) + 1;\n    let seperatorAfter = valueToShow.indexOf(CARD_SEPERATOR, selectionStart);\n    if(seperatorAfter===-1) seperatorAfter = valueToShow.length;\n    if(seperatorAfter - seperatorBefore > 4) {\n      if(selectionStart - seperatorBefore >= 4){\n        valueToShow = valueToShow.substring(0, seperatorBefore) + valueToShow.substring(selectionStart - 4, selectionStart) + valueToShow.substring(seperatorAfter);\n        selectionStart = seperatorBefore + 4;\n      }else{\n        valueToShow = valueToShow.substring(0, seperatorBefore + 4) + valueToShow.substring(seperatorAfter);\n      }\n    }\n\n\n\n    const value = mapToLatin(valueToShow);\n    const valueIsValid = this.isValueValidCardNumber(value);\n\n    if(selectionStart < valueToShow.length && value.substring(selectionStart - 4, selectionStart).match(/[0-9]{4}/)){\n      selectionStart++;\n    }\n    selectionEnd = selectionStart;\n\n    const values = {\n      value,\n      valueToShow,\n      valueIsValid,\n      selectionStart,\n      selectionEnd,\n    };\n\n    return values; \n  };\n\n  /**\n   * @param {number} selectionStart\n   */\n  whereIsCaret = (selectionStart) => {\n    return Math.floor(selectionStart / 5) + 1;\n  };\n\n  /**\n   * @param {string} value\n   */\n  isValueValidCardNumber = (value) => {\n    if(!value) return false;\n    if(value.match(MATCH_REGEX)) return true;\n    return false;\n  };\n\n  resetValues = () => {\n    const value = '';\n    return {\n      value,\n      valueToShow: this.mapValue(value, this.props.numberFormat),\n      valueIsValid: false,\n      selectionStart: 0,\n      selectionEnd: 0,\n    };\n  };\n\n  deleteValue = (element, qty) => {\n    let valueToShow = element.value;\n    let selectionStart = element.selectionStart;\n    let selectionEnd = element.selectionEnd;\n\n    if(selectionStart===selectionEnd){\n      if(qty < 0) {\n        if(selectionStart===0) return;\n        if(valueToShow.substring(selectionStart + qty, selectionStart)===CARD_SEPERATOR) {\n          const newValues = {...this.values};\n          newValues.selectionStart--;\n          newValues.selectionEnd--;\n          return newValues;\n        }\n        valueToShow = valueToShow.substring(0, selectionStart + qty) + valueToShow.substring(selectionEnd);\n        selectionStart += qty;\n      }else{\n        if(selectionEnd===valueToShow.length) return;\n        if(valueToShow.substring(selectionStart, selectionStart + qty)===CARD_SEPERATOR) return;\n        valueToShow = valueToShow.substring(0, selectionStart) + valueToShow.substring(selectionEnd+qty);\n      }\n      const nextSeperator = valueToShow.indexOf(CARD_SEPERATOR, selectionStart);\n      if(nextSeperator===-1){\n        valueToShow = valueToShow + ' ';\n      }else{\n        valueToShow = valueToShow.substring(0, nextSeperator) +repeatStr(' ', Math.abs(qty))+ valueToShow.substring(nextSeperator);\n      }\n    }else{\n      if(valueToShow.substring(selectionStart, selectionEnd).indexOf(CARD_SEPERATOR)>=0){\n        valueToShow = '';\n        selectionStart = 0;\n      }else {\n        valueToShow = valueToShow.substring(0, selectionStart) +repeatStr(' ', selectionEnd-selectionStart)+ valueToShow.substring(selectionEnd);\n      }\n    }\n\n    selectionEnd = selectionStart;\n\n    const value = mapToLatin(valueToShow);\n    const valueIsValid = this.isValueValidCardNumber(value);\n\n    const values = {\n      value,\n      valueToShow,\n      valueIsValid,\n      selectionStart,\n      selectionEnd,\n    };\n\n    return values; \n  };\n\n  fireOnChange = () => {\n    if(this.props.onChange){\n      const value = this.values.value;\n      if(this.previousValue !== value){\n        this.previousValue = value;\n        const target = {\n          name: this.props.name,\n          value: this.values.value,\n          valueIsValid: this.values.valueIsValid,\n        };\n        this.props.onChange({target});\n      }\n    }\n  };\n\n  shouldComponentUpdate(nextProps, nextState){\n    if(nextProps.value !== this.values.value || nextProps.numberFormat !== this.props.numberFormat){\n      this.updateState(this.readValues(nextProps.value));\n    }\n    if(!shallowEqualObjects(nextProps.style, this.props.style)){\n      return true;\n    }\n    if(nextProps.className !== this.props.className){\n      this.inputRef.current.className = nextProps.className;\n    }\n    if(nextProps.disabled !== this.props.disabled){\n      this.inputRef.current.disabled = nextProps.disabled;\n    }\n    if(nextProps.readOnly !== this.props.readOnly){\n      this.inputRef.current.readOnly = nextProps.readOnly;\n    }\n    return false;\n  }\n\n  render() {\n    const {value, onChange, onFocus, onBlur, onInput, onPast, onKeyDown, onShowDialog, pattern, inputMode, type, inputRef, getInputRef, numberFormat, defaultValue, ...rest} = this.props;\n    const {valueToShow} = this.values;\n\n    // const localInputMode = this.props.type === 'tel' ? 'tel' : 'numeric'; // as we use type=tel, then we do not need it any more\n    // const localPattern = '[0-9]*'; // it has problem with the form checking, as we insert persian digit, it is not acceptable for the browser\n\n    return (\n      <input\n        ref={this.inputRef}\n        type={\"tel\"} // I tried to use text and using inputMode, but it does not work on Safari\n        // inputMode={localInputMode}\n        // xInputMode={localnputMode} // in firefox OS it is x-inputmode, I do not know how to handle it\n        dir={\"ltr\"}\n        // pattern={localPattern}\n        defaultValue={valueToShow}\n        onKeyDown={this.handleKeyDown}\n        onPaste={this.handlePaste}\n        onInput={this.handleInput}\n        onFocus={this.handleFocus}\n        onBlur={this.handleBlur}\n        {...rest}\n      />\n      );\n    //<p ref={this.rr} type={\"text\"}>empty</p></div>\n\n  }\n}\n\n\nexport default CardNumberInput;","import React, { Component } from 'react';\nimport { NumberInput, DecimalInput, CardNumberInput, NUMBER_FORMAT_FARSI } from \"./lib\";\nimport {NUMBER_FORMAT_LATIN} from './lib';\nimport './Example.css';\n\nclass Example extends Component {\n  state = {\n    Number1: '',\n    Number2: '123',\n    Number3: '0',\n    color: false,\n    bgColor: false,\n    disabled: false,\n    readOnly: false,\n    Tel1: '0912',\n    value1: '',\n  };\n\n  componentDidMount(){\n    // this.interval = setInterval(this.toggleBgColor, 6000);\n    // this.interval = setInterval(this.toggleColor, 3000);\n  }\n\n  componentWillUnmount(){\n    clearInterval(this.interval);\n  }\n\n  handleChange = (event) => {\n    const newState = {};\n    const t = event.target;\n\n    newState[t.name] = t.value;\n    this.setState(newState, ()=>{\n      console.log('state', this.state)\n    });\n  };\n\n  handleValueChange = (event) => {\n    const newState = {};\n    const t = event.target;\n\n    newState[t.name.substr(0, 7)] = t.value;\n    this.setState(newState, ()=>{\n      console.log('state', this.state)\n    });\n  };\n\n  toggleColor = () => {\n    this.setState({\n      color: !this.state.color,\n    })\n  };\n\n  toggleBgColor = () => {\n    this.setState({\n      bgColor: !this.state.bgColor,\n    })\n  };\n\n  toggleDisabled = () => {\n    this.setState({\n      disabled: !this.state.disabled,\n    })\n  };\n\n  toggleReadOnly = () => {\n    this.setState({\n      readOnly: !this.state.readOnly,\n    })\n  };\n\n  render(){\n    const className = this.state.color ? \"red\" : \"\";\n    const style = this.state.bgColor ? {backgroundColor: 'aqua'} : {};\n    const {disabled, readOnly} = this.state;\n\n\n    return (\n      <React.Fragment>\n        <form autoComplete=\"on\">\n        <div>\n          <br/>\n          <br/>\n          <label>خروجی عدد لاتین\n            <br/>\n            <input type=\"text\" name=\"Number1_value\" style={{width: 250}} value={this.state.Number1} onChange={this.handleValueChange}  placeholder=\"از اینجا کلید تب را چند بار بزنید\" />\n          </label>\n          <br/>\n          <br/>\n          <label>\n            نمونه فارسی\n            <br/>\n            <NumberInput name=\"Number1\" disabled={disabled} readOnly={readOnly} className={className} style={style} value={this.state.Number1} onChange={this.handleChange} placeholder=\"type/paste a number\" />\n          </label>\n        </div>\n        <br/>\n        <div>\n          <label>\n            نمونه لاتین\n            <br/>\n            <NumberInput name=\"Number2\" disabled={disabled} readOnly={readOnly} className={className} style={style} value={this.state.Number2} numberFormat={NUMBER_FORMAT_LATIN} onChange={this.handleChange} placeholder=\"type/paste a number\" />\n          </label>\n        </div>\n        <label>خروجی\n          <br/>\n          <input type=\"text\" name=\"Number2_value\" style={{width: 250}} value={this.state.Number2} onChange={this.handleValueChange} placeholder=\"این فیلد خروجی است\" />\n        </label>\n        <br/>\n        <br/>\n        <br/>\n        <div>\n          <label>\n            عدد اعشاری\n            <br/>\n            <DecimalInput name=\"Number3\" disabled={disabled} readOnly={readOnly} className={className} style={style} value={this.state.Number3} asString={true} numberFormat={NUMBER_FORMAT_FARSI} onChange={this.handleChange} placeholder=\"type/paste a number\" />\n          </label>\n        </div>\n        <label>خروجی\n          <br/>\n          <input type=\"text\" name=\"Number3_value\" style={{width: 250}} value={this.state.Number3} onChange={this.handleValueChange} placeholder=\"این فیلد خروجی است\" />\n        </label>\n        <br/>\n        <br/>\n        <div>\n          <label>\n            نمونه تلفن فارسی\n            <br/>\n            <NumberInput type=\"tel\" name=\"Tel1\" disabled={disabled} readOnly={readOnly} className={className} style={style} value={this.state.Tel1} onChange={this.handleChange} maxLength={12} placeholder=\"type/paste a number\" />\n          </label>\n        </div>\n        <br/>\n        <label>ورودی شماره کارت\n            <br/>\n            <CardNumberInput\n              value={this.state.value1}\n              disabled={disabled}\n              readOnly={readOnly}\n              name={'value1'}\n              className={className} \n              style={style} \n              onChange={this.handleChange}\n              placeholder=\"شماره کارت\" />\n            <br/>\n            خروجی\n            <br/>\n            <input type=\"text\" name=\"value1\" dir={'ltr'} value={this.state.value1} onChange={this.handleChange}/>\n          </label>\n          <br/>\n        <br/>\n        <button type=\"button\" onClick={this.toggleColor}>toggle className</button>\n        <button type=\"button\" onClick={this.toggleBgColor}>toggle style</button>\n        <button type=\"button\" onClick={this.toggleDisabled}>{disabled?'enable':'disable'}</button>\n        <button type=\"button\" onClick={this.toggleReadOnly}>{readOnly?'writable':'read only'}</button>\n        <input type=\"submit\"/>\n        </form>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default Example;\n","import React from 'react';\nimport { render } from \"react-dom\";\nimport Example from './Example';\n\nconst App = () => (\n  <div dir={\"rtl\"} style={{ width: 640, margin: \"15px auto\" }}>\n    <h1>کمپننت عدد</h1>\n    <br/>ورژن ۱،۰ ساخت ۲\n    <ul>\n      <li>نمایش عدد فارسی یا لاتین</li>\n      <li>ذخیره عدد لاتین، باعث میشود که داده صحیح به سرور داده شود</li>\n      <li>نمایش غیر عدد در صورتی که داده از بیرون به آن وارد شود.</li>\n      <li>نمایش کیبورد عددی در مبایل (غیر از مرورگر سامسونگ) </li>\n    </ul>\n\n    <Example/>\n\n  </div>\n);\n\nrender(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}